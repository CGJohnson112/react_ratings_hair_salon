{"ast":null,"code":"var _jsxFileName = \"/Users/chrisjohnson/Sites/hair_salon/src/components/Ratings.js\";\nimport React, { Component } from 'react';\nimport { FaStar } from 'react-icons/fa';\nimport '../ratings.css';\nexport class Ratings extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true,\n      ratings: []\n    };\n  }\n\n  async componentDidMount() {\n    const url = \"http://substyleprod.com/projects/APIS/ratings.json\";\n    const response = await fetch(url);\n    const data = await response.json();\n    this.setState({\n      ratings: data,\n      loading: false\n    });\n    let rateSum = 0;\n    let numRatings = 0;\n    const len = data.length;\n    let rater = null;\n\n    for (let i = 0; i < len; i++) {\n      rater = data[i];\n      rateSum = data[i].rating + rateSum;\n      numRatings = numRatings + 1;\n    }\n\n    const avgRate = rateSum / len;\n    let avgRateRounded = Math.round(avgRate);\n    document.getElementById('avgNum').innerHTML = avgRateRounded;\n    let rating5 = data.filter(data => data.rating === 5).length;\n    let rating4 = data.filter(data => data.rating === 4).length;\n    let rating3 = data.filter(data => data.rating === 3).length;\n    let rating2 = data.filter(data => data.rating === 2).length;\n    let rating1 = data.filter(data => data.rating === 1).length; //console.log(rating5);\n\n    document.getElementById(\"demo\").innerHTML = \"Number of 5 star ratings.........\" + rating5;\n    document.getElementById(\"demo2\").innerHTML = \"Number of 4 star ratings.........\" + rating4;\n    document.getElementById(\"demo3\").innerHTML = \"Number of 3 star ratings.........\" + rating3;\n    document.getElementById(\"demo4\").innerHTML = \"Number of 2 star ratings.........\" + rating2;\n    document.getElementById(\"demo5\").innerHTML = \"Number of 1 star ratings.........\" + rating1;\n    console.log(rateSum);\n    console.log(avgRateRounded); //star rating average counter given from loop above\n\n    if (avgRateRounded === 1) {\n      document.getElementById(\"ping\").className = \"bar_1\";\n    } else if (avgRateRounded === 2) {\n      document.getElementById(\"ping\").className = \"bar_2\";\n    } else if (avgRateRounded === 3) {\n      document.getElementById(\"ping\").className = \"bar_3\";\n    } else if (avgRateRounded === 4) {\n      document.getElementById(\"ping\").className = \"bar_4\";\n    } else if (avgRateRounded === 5) {\n      document.getElementById(\"ping\").className = \"bar_5\";\n    }\n  }\n\n  render() {\n    if (this.state.loading) {\n      return React.createElement(\"div\", {\n        className: \"textBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"...loading reviews...please wait....\");\n    }\n\n    if (!this.state.ratings.length) {\n      return React.createElement(\"div\", {\n        className: \"textBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"No one's commenting! Be the first!\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"textBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      name: \"ratings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Ratings\"), React.createElement(\"span\", {\n      className: \"heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"User Rating\"), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"ping\",\n      className: \"bar_1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"avgNum\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), \" average based on \", this.state.ratings.length, \"  reviews.\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"5 star\")), React.createElement(\"div\", {\n      className: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"side right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"demo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"150\")), React.createElement(\"div\", {\n      className: \"side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"4 star\")), React.createElement(\"div\", {\n      className: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"side right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"63\")), React.createElement(\"div\", {\n      className: \"side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"3 star\")), React.createElement(\"div\", {\n      className: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"side right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"15\")), React.createElement(\"div\", {\n      className: \"side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"2 star\")), React.createElement(\"div\", {\n      className: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"side right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"6\")), React.createElement(\"div\", {\n      className: \"side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"1 star\")), React.createElement(\"div\", {\n      className: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"side right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"20\"))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.state.ratings.length, \" written reviews\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(React.Fragment, null, this.state.ratings.map(rating => React.createElement(\"div\", {\n      className: \"textBox\",\n      key: rating.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: `bar_${rating.rating}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })), React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, rating.header), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, rating.comment), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, rating.name, \" - \", rating.date), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })))));\n  }\n\n}\nexport default Ratings;","map":{"version":3,"sources":["/Users/chrisjohnson/Sites/hair_salon/src/components/Ratings.js"],"names":["React","Component","FaStar","Ratings","state","loading","ratings","componentDidMount","url","response","fetch","data","json","setState","rateSum","numRatings","len","length","rater","i","rating","avgRate","avgRateRounded","Math","round","document","getElementById","innerHTML","rating5","filter","rating4","rating3","rating2","rating1","console","log","className","render","map","id","header","comment","name","date"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {FaStar} from 'react-icons/fa'\nimport '../ratings.css'\n\nexport class Ratings extends Component {\n\n    state = {\n        loading: true,\n        ratings: []\n    };\n\n    async componentDidMount(){\n        const url = \"http://substyleprod.com/projects/APIS/ratings.json\";\n        const response = await fetch(url);\n        const data = await response.json();\n        \n        this.setState({ratings: data, loading: false})\n        \n        let rateSum = 0;\n        let numRatings = 0;\n        const len = data.length;\n        let rater = null;\n        for (let i = 0; i < len; i++) {\n            rater = data[i];\n            rateSum = data[i].rating + rateSum;\n            numRatings = numRatings + 1;     \n        }\n\n        \n    \n        \n        const avgRate = rateSum / len;\n        let avgRateRounded =  Math.round(avgRate);\n        document.getElementById('avgNum').innerHTML = avgRateRounded;\n\n        let rating5 = data.filter(data => data.rating === 5).length;\n        let rating4 = data.filter(data => data.rating === 4).length;\n        let rating3 = data.filter(data => data.rating === 3).length;\n        let rating2 = data.filter(data => data.rating === 2).length;\n        let rating1 = data.filter(data => data.rating === 1).length;\n\n        //console.log(rating5);\n        document.getElementById(\"demo\").innerHTML = \"Number of 5 star ratings.........\" + rating5;\n        document.getElementById(\"demo2\").innerHTML = \"Number of 4 star ratings.........\" + rating4;\n        document.getElementById(\"demo3\").innerHTML = \"Number of 3 star ratings.........\" + rating3;\n        document.getElementById(\"demo4\").innerHTML = \"Number of 2 star ratings.........\" + rating2;\n        document.getElementById(\"demo5\").innerHTML = \"Number of 1 star ratings.........\" + rating1;\n        console.log(rateSum)\n        console.log(avgRateRounded)\n\n\n        //star rating average counter given from loop above\n        if (avgRateRounded === 1) {\n            document.getElementById(\"ping\").className = \"bar_1\";\n        } else if (avgRateRounded === 2) {\n            document.getElementById(\"ping\").className = \"bar_2\";\n        } else if (avgRateRounded === 3) {\n            document.getElementById(\"ping\").className = \"bar_3\";\n        } else if (avgRateRounded === 4) {\n            document.getElementById(\"ping\").className = \"bar_4\";\n        }  else if (avgRateRounded === 5) {\n           document.getElementById(\"ping\").className = \"bar_5\";\n        }  \n        \n    }\n \n    render() {\n        if (this.state.loading) {\n            return <div className=\"textBox\">...loading reviews...please wait....</div>\n        }\n\n        if(!this.state.ratings.length) {\n            return <div className=\"textBox\">No one's commenting! Be the first!</div>\n        }\n        \n        return (\n            \n            <div className=\"textBox\">\n            \n            <a name=\"ratings\"></a>\n            <hr/>\n                <h3>Ratings</h3>\n                    \n                <span className=\"heading\">User Rating</span>\n                \n                <h5><span id=\"ping\" className=\"bar_1\"></span></h5>\n                <p><span id=\"avgNum\"></span> average based on {this.state.ratings.length}  reviews.</p>\n               \n                <div className=\"row\">\n                <div className=\"side\">\n                    <div>5 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-5\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div id=\"demo\">150</div>\n                </div>\n                <div className=\"side\">\n                    <div>4 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-4\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div>63</div>\n                </div>\n                <div className=\"side\">\n                    <div>3 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-3\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div>15</div>\n                </div>\n                <div className=\"side\">\n                    <div>2 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-2\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div>6</div>\n                </div>\n                <div className=\"side\">\n                    <div>1 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-1\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div>20</div>\n                </div>\n            </div>\n            <hr/>\n            \n                <p>{this.state.ratings.length} written reviews</p>\n               \n                \n            <hr/>\n\n            <>\n            {this.state.ratings.map(rating => (\n            <div className=\"textBox\" key={rating.id}>\n            \n            <h5><span className={`bar_${rating.rating}`}></span></h5>\n            \n            \n            <h6>{rating.header}</h6>\n            <p>{rating.comment}</p>\n            <p>{rating.name} - {rating.date}</p>\n            <hr />\n            </div>\n\n            ))}\n            </>\n            </div>\n        )\n    }\n}\n\nexport default Ratings\n"]},"metadata":{},"sourceType":"module"}