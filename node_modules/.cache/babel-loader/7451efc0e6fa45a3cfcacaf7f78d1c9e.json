{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chrisjohnson/Sites/hair_salon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chrisjohnson/Sites/hair_salon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/chrisjohnson/Sites/hair_salon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chrisjohnson/Sites/hair_salon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/chrisjohnson/Sites/hair_salon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/chrisjohnson/Sites/hair_salon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/chrisjohnson/Sites/hair_salon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{FaStar}from'react-icons/fa';import'../ratings.css';export var Ratings=/*#__PURE__*/function(_Component){_inherits(Ratings,_Component);function Ratings(){var _getPrototypeOf2;var _this;_classCallCheck(this,Ratings);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Ratings)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loading:true,ratings:[]};return _this;}_createClass(Ratings,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,response,data,rateSum,numRatings,len,rater,i,avgRate,avgRateRounded;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://substyleprod.com/projects/APIS/ratings.json\";_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;this.setState({ratings:data,loading:false});rateSum=0;numRatings=0;len=data.length;rater=null;for(i=0;i<len;i++){rater=data[i];rateSum=data[i].rating+rateSum;numRatings=numRatings+1;}avgRate=rateSum/len;avgRateRounded=Math.round(avgRate);document.getElementById('avgNum').innerHTML=avgRateRounded;console.log(rateSum);console.log(avgRateRounded);//star rating average counter given from loop above\nif(avgRateRounded===1){document.getElementById(\"ping\").className=\"bar_1\";}else if(avgRateRounded===2){document.getElementById(\"ping\").className=\"bar_2\";}else if(avgRateRounded===3){document.getElementById(\"ping\").className=\"bar_3\";}else if(avgRateRounded===4){document.getElementById(\"ping\").className=\"bar_4\";}else if(avgRateRounded===5){document.getElementById(\"ping\").className=\"bar_5\";}case 19:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){if(this.state.loading){return React.createElement(\"div\",{className:\"textBox\"},\"...loading reviews...please wait....\");}if(!this.state.ratings.length){return React.createElement(\"div\",{className:\"textBox\"},\"No one's commenting! Be the first!\");}return React.createElement(\"div\",{className:\"textBox\"},React.createElement(\"a\",{name:\"ratings\"}),React.createElement(\"hr\",null),React.createElement(\"h3\",null,\"Ratings\"),React.createElement(\"span\",{className:\"heading\"},\"User Rating\"),React.createElement(\"h5\",null,React.createElement(\"span\",{id:\"ping\",className:\"bar_1\"})),React.createElement(\"p\",null,React.createElement(\"span\",{id:\"avgNum\"}),\" average based on \",this.state.ratings.length,\"  reviews.\"),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"side\"},React.createElement(\"div\",null,\"5 star\")),React.createElement(\"div\",{className:\"middle\"},React.createElement(\"div\",{className:\"bar-container\"},React.createElement(\"div\",{className:\"bar-5\"}))),React.createElement(\"div\",{className:\"side right\"},React.createElement(\"div\",null,\"150\")),React.createElement(\"div\",{className:\"side\"},React.createElement(\"div\",null,\"4 star\")),React.createElement(\"div\",{className:\"middle\"},React.createElement(\"div\",{className:\"bar-container\"},React.createElement(\"div\",{className:\"bar-4\"}))),React.createElement(\"div\",{className:\"side right\"},React.createElement(\"div\",null,\"63\")),React.createElement(\"div\",{className:\"side\"},React.createElement(\"div\",null,\"3 star\")),React.createElement(\"div\",{className:\"middle\"},React.createElement(\"div\",{className:\"bar-container\"},React.createElement(\"div\",{className:\"bar-3\"}))),React.createElement(\"div\",{className:\"side right\"},React.createElement(\"div\",null,\"15\")),React.createElement(\"div\",{className:\"side\"},React.createElement(\"div\",null,\"2 star\")),React.createElement(\"div\",{className:\"middle\"},React.createElement(\"div\",{className:\"bar-container\"},React.createElement(\"div\",{className:\"bar-2\"}))),React.createElement(\"div\",{className:\"side right\"},React.createElement(\"div\",null,\"6\")),React.createElement(\"div\",{className:\"side\"},React.createElement(\"div\",null,\"1 star\")),React.createElement(\"div\",{className:\"middle\"},React.createElement(\"div\",{className:\"bar-container\"},React.createElement(\"div\",{className:\"bar-1\"}))),React.createElement(\"div\",{className:\"side right\"},React.createElement(\"div\",null,\"20\"))),React.createElement(\"hr\",null),React.createElement(\"p\",null,this.state.ratings.length,\" written reviews\"),React.createElement(\"hr\",null),React.createElement(React.Fragment,null,this.state.ratings.map(function(rating){return React.createElement(\"div\",{className:\"textBox\",key:rating.id},React.createElement(\"h5\",null,React.createElement(\"span\",{className:\"bar_\".concat(rating.rating)})),React.createElement(\"h6\",null,rating.header),React.createElement(\"p\",null,rating.comment),React.createElement(\"p\",null,rating.name,\" - \",rating.date),React.createElement(\"hr\",null));})));}}]);return Ratings;}(Component);export default Ratings;","map":{"version":3,"sources":["/Users/chrisjohnson/Sites/hair_salon/src/components/Ratings.js"],"names":["React","Component","FaStar","Ratings","state","loading","ratings","url","fetch","response","json","data","setState","rateSum","numRatings","len","length","rater","i","rating","avgRate","avgRateRounded","Math","round","document","getElementById","innerHTML","console","log","className","map","id","header","comment","name","date"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {FaStar} from 'react-icons/fa'\nimport '../ratings.css'\n\nexport class Ratings extends Component {\n\n    state = {\n        loading: true,\n        ratings: []\n    };\n\n    async componentDidMount(){\n        const url = \"http://substyleprod.com/projects/APIS/ratings.json\";\n        const response = await fetch(url);\n        const data = await response.json();\n        \n        this.setState({ratings: data, loading: false})\n        \n        let rateSum = 0;\n        let numRatings = 0;\n        const len = data.length;\n        let rater = null;\n        for (let i = 0; i < len; i++) {\n            rater = data[i];\n            rateSum = data[i].rating + rateSum;\n            numRatings = numRatings + 1;     \n        }\n        \n        const avgRate = rateSum / len;\n        let avgRateRounded =  Math.round(avgRate);\n        document.getElementById('avgNum').innerHTML = avgRateRounded;\n\n        \n        console.log(rateSum)\n        console.log(avgRateRounded)\n\n\n        //star rating average counter given from loop above\n        if (avgRateRounded === 1) {\n            document.getElementById(\"ping\").className = \"bar_1\";\n        } else if (avgRateRounded === 2) {\n            document.getElementById(\"ping\").className = \"bar_2\";\n        } else if (avgRateRounded === 3) {\n            document.getElementById(\"ping\").className = \"bar_3\";\n        } else if (avgRateRounded === 4) {\n            document.getElementById(\"ping\").className = \"bar_4\";\n        }  else if (avgRateRounded === 5) {\n           document.getElementById(\"ping\").className = \"bar_5\";\n        }  \n        \n    }\n \n    render() {\n        if (this.state.loading) {\n            return <div className=\"textBox\">...loading reviews...please wait....</div>\n        }\n\n        if(!this.state.ratings.length) {\n            return <div className=\"textBox\">No one's commenting! Be the first!</div>\n        }\n        \n        return (\n            \n            <div className=\"textBox\">\n            \n            <a name=\"ratings\"></a>\n            <hr/>\n                <h3>Ratings</h3>\n                    \n                <span className=\"heading\">User Rating</span>\n                \n                <h5><span id=\"ping\" className=\"bar_1\"></span></h5>\n                <p><span id=\"avgNum\"></span> average based on {this.state.ratings.length}  reviews.</p>\n               \n                <div className=\"row\">\n                <div className=\"side\">\n                    <div>5 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-5\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div>150</div>\n                </div>\n                <div className=\"side\">\n                    <div>4 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-4\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div>63</div>\n                </div>\n                <div className=\"side\">\n                    <div>3 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-3\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div>15</div>\n                </div>\n                <div className=\"side\">\n                    <div>2 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-2\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div>6</div>\n                </div>\n                <div className=\"side\">\n                    <div>1 star</div>\n                </div>\n                <div className=\"middle\">\n                    <div className=\"bar-container\">\n                    <div className=\"bar-1\"></div>\n                    </div>\n                </div>\n                <div className=\"side right\">\n                    <div>20</div>\n                </div>\n            </div>\n            <hr/>\n            \n                <p>{this.state.ratings.length} written reviews</p>\n               \n                \n            <hr/>\n\n            <>\n            {this.state.ratings.map(rating => (\n            <div className=\"textBox\" key={rating.id}>\n            \n            <h5><span className={`bar_${rating.rating}`}></span></h5>\n            \n            \n            <h6>{rating.header}</h6>\n            <p>{rating.comment}</p>\n            <p>{rating.name} - {rating.date}</p>\n            <hr />\n            </div>\n\n            ))}\n            </>\n            </div>\n        )\n    }\n}\n\nexport default Ratings\n"]},"metadata":{},"sourceType":"module"}